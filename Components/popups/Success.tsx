"use client";
import React from "react";
import { useRouter } from "next/navigation";

interface SuccessProps {
  poolAddress?: string;
  type?: "stake" | "vest" | "lock";
  activationDateTime?: string;
}

function Success({
  poolAddress,
  type = "stake",
  activationDateTime,
}: SuccessProps) {
  const router = useRouter();

  const handleViewClick = () => {
    // Check if staking pool is launching soon
    const isLaunchingSoon =
      type === "stake" &&
      activationDateTime &&
      new Date(activationDateTime).getTime() > Date.now();

    // Determine the route and query parameter based on type
    let baseRoute =
      type === "vest"
        ? "/card/vest"
        : type === "lock"
          ? "/card/lock"
          : "/card/stake";
    let queryParam =
      type === "vest" ? "vest" : type === "lock" ? "lock" : "pool";

    // If staking pool is launching soon, navigate to soon page
    if (isLaunchingSoon) {
      baseRoute = "/card/soon";
      queryParam = "pool";
    }

    if (poolAddress) {
      router.push(`${baseRoute}?${queryParam}=${poolAddress}`);
    } else {
      router.push(baseRoute);
    }
  };

  return (
    <svg
      width="360"
      height="139"
      viewBox="0 0 360 139"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      onClick={handleViewClick}
      className="cursor-pointer transition-transform hover:scale-105"
    >
      <g filter="url(#filter0_d_1314_6483)">
        <path
          d="M200.254 66.7002L186.771 42.8936L186.517 42.458C181.091 33.4216 169.417 30.3121 160.193 35.5361H160.192C150.822 40.8438 147.529 52.7428 152.836 62.1133L174.294 100H35.8008C17.5754 100 2.80078 85.2254 2.80078 67V60C2.80078 41.7746 17.5754 27 35.8008 27H219.049L200.254 66.7002ZM317.801 27C336.026 27 350.801 41.7746 350.801 60V67C350.801 85.2254 336.026 100 317.801 100H227.64L262.198 27H317.801Z"
          fill="url(#paint0_linear_1314_6483)"
        />
        <path
          d="M232.746 8.58549C236.29 1.09795 245.234 -2.09866 252.721 1.44584C260.209 4.99048 263.405 13.9339 259.861 21.4214L215.361 115.421C212.965 120.483 207.948 123.789 202.352 123.994C196.756 124.199 191.511 121.269 188.751 116.396L156.751 59.896C152.669 52.6877 155.202 43.5344 162.411 39.4517C169.619 35.3691 178.772 37.9027 182.855 45.1109L200.612 76.4624L232.746 8.58549Z"
          fill="url(#paint1_linear_1314_6483)"
        />
        <path
          d="M266.317 63.2C266.317 61.472 267.309 60.608 269.293 60.608C269.976 60.608 270.6 60.6827 271.165 60.832V62.624C270.632 62.4533 270.115 62.368 269.613 62.368C269.112 62.368 268.76 62.4427 268.557 62.592C268.355 62.7413 268.253 62.992 268.253 63.344V67.344C268.253 67.696 268.349 67.9467 268.541 68.096C268.744 68.2453 269.101 68.32 269.613 68.32C270.125 68.32 270.648 68.2347 271.181 68.064V69.84C270.627 70 269.997 70.08 269.293 70.08C267.309 70.08 266.317 69.216 266.317 67.488V63.2ZM272.462 58.208H274.398V70H272.462V58.208ZM277.078 60.128C276.353 60.128 275.99 59.776 275.99 59.072C275.99 58.368 276.353 58.016 277.078 58.016C277.814 58.016 278.182 58.368 278.182 59.072C278.182 59.776 277.814 60.128 277.078 60.128ZM276.118 60.864H278.054V70H276.118V60.864ZM279.614 63.2C279.614 61.472 280.606 60.608 282.59 60.608C283.273 60.608 283.897 60.6827 284.462 60.832V62.624C283.929 62.4533 283.411 62.368 282.91 62.368C282.409 62.368 282.057 62.4427 281.854 62.592C281.651 62.7413 281.55 62.992 281.55 63.344V67.344C281.55 67.696 281.646 67.9467 281.838 68.096C282.041 68.2453 282.398 68.32 282.91 68.32C283.422 68.32 283.945 68.2347 284.478 68.064V69.84C283.923 70 283.294 70.08 282.59 70.08C280.606 70.08 279.614 69.216 279.614 67.488V63.2ZM285.759 58.208H287.631V70H285.759V58.208ZM289.359 60.688H291.295L289.679 65.12L291.503 70H289.455L287.775 65.04L289.359 60.688ZM297.541 59.04V60.688H299.205V62.32H297.541V67.616C297.541 68.1173 297.808 68.368 298.341 68.368C298.608 68.368 298.933 68.304 299.317 68.176V69.888C298.869 70.0373 298.426 70.112 297.989 70.112C296.41 70.112 295.621 69.3387 295.621 67.792V62.32H294.709V60.688H295.701L296.277 59.04H297.541ZM304.095 63.12C304.095 62.4907 303.769 62.176 303.119 62.176C302.479 62.176 302.159 62.4907 302.159 63.12V67.568C302.159 68.1973 302.479 68.512 303.119 68.512C303.769 68.512 304.095 68.1973 304.095 67.568V63.12ZM300.255 63.072C300.255 62.2827 300.489 61.664 300.959 61.216C301.439 60.7573 302.159 60.528 303.119 60.528C304.089 60.528 304.809 60.7573 305.279 61.216C305.759 61.664 305.999 62.2827 305.999 63.072V67.616C305.999 68.4053 305.759 69.0293 305.279 69.488C304.809 69.936 304.089 70.16 303.119 70.16C302.159 70.16 301.439 69.936 300.959 69.488C300.489 69.0293 300.255 68.4053 300.255 67.616V63.072ZM314.331 60.688H316.235L314.235 70H311.883L309.851 60.688H311.787L312.459 64.08C312.737 65.52 312.939 66.9973 313.067 68.512C313.185 67.1787 313.387 65.712 313.675 64.112L314.331 60.688ZM318.203 60.128C317.478 60.128 317.115 59.776 317.115 59.072C317.115 58.368 317.478 58.016 318.203 58.016C318.939 58.016 319.307 58.368 319.307 59.072C319.307 59.776 318.939 60.128 318.203 60.128ZM317.243 60.864H319.179V70H317.243V60.864ZM320.739 67.456V63.072C320.739 62.2827 320.974 61.664 321.443 61.216C321.923 60.7573 322.643 60.528 323.603 60.528C324.563 60.528 325.267 60.7573 325.715 61.216C326.174 61.664 326.403 62.2827 326.403 63.072V66.144H322.611V67.312C322.611 67.696 322.723 67.9733 322.947 68.144C323.171 68.3147 323.598 68.4 324.227 68.4C324.856 68.4 325.502 68.2987 326.163 68.096V69.808C325.502 70 324.766 70.096 323.955 70.096C321.811 70.096 320.739 69.216 320.739 67.456ZM322.611 64.64H324.611V63.088C324.611 62.4587 324.275 62.144 323.603 62.144C322.942 62.144 322.611 62.4587 322.611 63.088V64.64ZM334.685 60.688H336.653L335.117 70H332.845C332.343 66.4587 332.034 64.2187 331.917 63.28C331.767 64.496 331.453 66.736 330.973 70H328.717L327.133 60.688H329.133L329.933 67.616L330.989 60.688H332.829L333.901 67.648L334.685 60.688Z"
          fill="#1E1E1E"
        />
        <path
          d="M25.0663 56.812C25.0663 55.012 25.6663 53.62 26.8663 52.636C28.0663 51.652 29.7823 51.16 32.0143 51.16C34.2703 51.16 36.0223 51.388 37.2703 51.844V55.984C35.8783 55.432 34.2343 55.156 32.3383 55.156C30.4423 55.156 29.4943 55.876 29.4943 57.316V58.288C29.4943 59.008 29.6263 59.572 29.8903 59.98C30.1543 60.364 30.6703 60.76 31.4383 61.168L35.5783 63.508C37.5223 64.564 38.4943 66.172 38.4943 68.332V70.456C38.4943 72.28 37.8343 73.696 36.5143 74.704C35.1943 75.688 33.3103 76.18 30.8623 76.18C28.4143 76.18 26.5783 75.916 25.3543 75.388V71.212C26.8903 71.86 28.6303 72.184 30.5743 72.184C32.9503 72.184 34.1383 71.44 34.1383 69.952V69.016C34.1383 68.392 34.0063 67.912 33.7423 67.576C33.5023 67.216 33.0463 66.856 32.3743 66.496L28.4143 64.336C26.1823 63.112 25.0663 61.348 25.0663 59.044V56.812ZM50.6955 51.34H55.0155V70.204C55.0155 72.076 54.4275 73.576 53.2515 74.704C52.0755 75.808 50.3355 76.36 48.0315 76.36C45.7515 76.36 44.0235 75.808 42.8475 74.704C41.6955 73.576 41.1195 72.076 41.1195 70.204V51.34H45.4395V69.988C45.4395 71.62 46.3155 72.436 48.0675 72.436C49.8195 72.436 50.6955 71.62 50.6955 69.988V51.34ZM58.377 56.884C58.377 55.084 58.989 53.68 60.213 52.672C61.461 51.664 63.333 51.16 65.829 51.16C67.461 51.16 68.925 51.34 70.221 51.7V55.66C68.781 55.252 67.401 55.048 66.081 55.048C64.785 55.048 63.897 55.24 63.417 55.624C62.961 55.984 62.733 56.524 62.733 57.244V70.096C62.733 71.56 63.777 72.292 65.865 72.292C67.617 72.292 69.105 72.1 70.329 71.716V75.64C69.033 76 67.509 76.18 65.757 76.18C60.837 76.18 58.377 74.284 58.377 70.492V56.884ZM72.9668 56.884C72.9668 55.084 73.5788 53.68 74.8028 52.672C76.0508 51.664 77.9228 51.16 80.4188 51.16C82.0508 51.16 83.5148 51.34 84.8108 51.7V55.66C83.3708 55.252 81.9908 55.048 80.6708 55.048C79.3748 55.048 78.4868 55.24 78.0068 55.624C77.5508 55.984 77.3228 56.524 77.3228 57.244V70.096C77.3228 71.56 78.3668 72.292 80.4548 72.292C82.2068 72.292 83.6948 72.1 84.9188 71.716V75.64C83.6228 76 82.0988 76.18 80.3468 76.18C75.4268 76.18 72.9668 74.284 72.9668 70.492V56.884ZM87.9167 51.34H99.7607V55.12H92.2367V61.636H98.7527V65.416H92.2367V72.22H99.7607V76H87.9167V51.34ZM101.637 56.812C101.637 55.012 102.237 53.62 103.437 52.636C104.637 51.652 106.353 51.16 108.585 51.16C110.841 51.16 112.593 51.388 113.841 51.844V55.984C112.449 55.432 110.805 55.156 108.909 55.156C107.013 55.156 106.065 55.876 106.065 57.316V58.288C106.065 59.008 106.197 59.572 106.461 59.98C106.725 60.364 107.241 60.76 108.009 61.168L112.149 63.508C114.093 64.564 115.065 66.172 115.065 68.332V70.456C115.065 72.28 114.405 73.696 113.085 74.704C111.765 75.688 109.881 76.18 107.433 76.18C104.985 76.18 103.149 75.916 101.925 75.388V71.212C103.461 71.86 105.201 72.184 107.145 72.184C109.521 72.184 110.709 71.44 110.709 69.952V69.016C110.709 68.392 110.577 67.912 110.313 67.576C110.073 67.216 109.617 66.856 108.945 66.496L104.985 64.336C102.753 63.112 101.637 61.348 101.637 59.044V56.812ZM116.754 56.812C116.754 55.012 117.354 53.62 118.554 52.636C119.754 51.652 121.47 51.16 123.702 51.16C125.958 51.16 127.71 51.388 128.958 51.844V55.984C127.566 55.432 125.922 55.156 124.026 55.156C122.13 55.156 121.182 55.876 121.182 57.316V58.288C121.182 59.008 121.314 59.572 121.578 59.98C121.842 60.364 122.358 60.76 123.126 61.168L127.266 63.508C129.21 64.564 130.182 66.172 130.182 68.332V70.456C130.182 72.28 129.522 73.696 128.202 74.704C126.882 75.688 124.998 76.18 122.55 76.18C120.102 76.18 118.266 75.916 117.042 75.388V71.212C118.578 71.86 120.318 72.184 122.262 72.184C124.638 72.184 125.826 71.44 125.826 69.952V69.016C125.826 68.392 125.694 67.912 125.43 67.576C125.19 67.216 124.734 66.856 124.062 66.496L120.102 64.336C117.87 63.112 116.754 61.348 116.754 59.044V56.812ZM136.443 76.324C134.811 76.324 133.995 75.532 133.995 73.948C133.995 72.34 134.811 71.536 136.443 71.536C138.099 71.536 138.927 72.34 138.927 73.948C138.927 75.532 138.099 76.324 136.443 76.324ZM134.103 51.34H138.747L138.171 68.692H134.679L134.103 51.34Z"
          fill="#1E1E1E"
        />
      </g>
      <defs>
        <filter
          id="filter0_d_1314_6483"
          x="0.000781059"
          y="0"
          width="359.6"
          height="138.804"
          filterUnits="userSpaceOnUse"
          colorInterpolationFilters="sRGB"
        >
          <feFlood
            floodOpacity="0"
            result="BackgroundImageFix"
          />
          <feColorMatrix
            in="SourceAlpha"
            type="matrix"
            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
            result="hardAlpha"
          />
          <feOffset
            dx="3"
            dy="9"
          />
          <feGaussianBlur stdDeviation="2.9" />
          <feComposite
            in2="hardAlpha"
            operator="out"
          />
          <feColorMatrix
            type="matrix"
            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
          />
          <feBlend
            mode="normal"
            in2="BackgroundImageFix"
            result="effect1_dropShadow_1314_6483"
          />
          <feBlend
            mode="normal"
            in="SourceGraphic"
            in2="effect1_dropShadow_1314_6483"
            result="shape"
          />
        </filter>
        <linearGradient
          id="paint0_linear_1314_6483"
          x1="90.8008"
          y1="-19.5"
          x2="113.801"
          y2="195.5"
          gradientUnits="userSpaceOnUse"
        >
          <stop
            offset="0.0453033"
            stopColor="#F4E0FB"
          />
          <stop
            offset="0.387195"
            stopColor="white"
          />
          <stop
            offset="1"
            stopColor="#D8D1D1"
          />
        </linearGradient>
        <linearGradient
          id="paint1_linear_1314_6483"
          x1="261.307"
          y1="62.0019"
          x2="154.801"
          y2="62.0019"
          gradientUnits="userSpaceOnUse"
        >
          <stop
            offset="0.0336538"
            stopColor="#047C7C"
          />
          <stop
            offset="1"
            stopColor="#0CE07D"
          />
        </linearGradient>
      </defs>
    </svg>
  );
}

export default Success;
